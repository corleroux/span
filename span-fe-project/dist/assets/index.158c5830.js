var b=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var y=(o,e)=>{var c={};for(var r in o)O.call(o,r)&&e.indexOf(r)<0&&(c[r]=o[r]);if(o!=null&&b)for(var r of b(o))e.indexOf(r)<0&&T.call(o,r)&&(c[r]=o[r]);return c};import{j as w,r as i,c as I,Q as P,A as j,C as R,a as k,R as A,b as L}from"./vendor.9cbcace3.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function c(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=c(s);fetch(s.href,n)}};M();const t=w.exports.jsx,u=w.exports.jsxs,_=w.exports.Fragment,S={isOpen:!0,isTopicSet:!1,topicSlug:{topicIdOrSlug:""}},E=[S],q=E,x=i.exports.createContext(q),B=o=>{const[e,c]=i.exports.useState(S);return console.log("NAV",e),t(x.Provider,{value:[e,c],children:o.children})},F={title:"Choose a topic"},U=[],h=i.exports.createContext(U),z=o=>{const[e,c]=i.exports.useState(),[r,s]=i.exports.useState(F);return t(h.Provider,{value:{topics:e,setTopics:c,topic:r,setTopic:s},children:o.children})},m="https://qe9a25jdui.execute-api.eu-west-1.amazonaws.com/test/api",f=o=>I({apiUrl:o,mode:"cors"});f(m);const D=async()=>{const o={page:2},e=f(m).topics.list(o),c=s=>{var n;return console.debug("Request Successfull",s),(n=s.response)==null?void 0:n.results},r=await e;return c(r)},Q=async o=>{const e=f(m).topics.get(o),c=s=>(console.debug("Request Successfull",s),s.response),r=await e;return c(r)},H=async({topicIdOrSlug:o,page:e=1,perPage:c=60})=>await f(m).topics.getPhotos({topicIdOrSlug:o,page:e,perPage:c}),K=o=>{const{title:e,id:c,total_photos:r}=o.data;return u("div",{onClick:()=>o.onClick(event,o.id),className:"p.25 mt-4 flex items-center rounded-md align-middle px-2 py-1 duration-300 cursor-pointer  text-white relative border-l-[1px] border-b-[2px] border-blue-500 hover:bg-blue-600 hover:border-b-[2px] hover:border-blue-500",children:[t("span",{className:"text-lg text-gray-200 font-medium",children:o.title}),t("span",{className:"text-xs bg-gray-200 text-right place-self-center text-blue-800 font-medium rounded-full absolute right-1 py-0 px-2",children:r})]})},V=({onSelectTopic:o})=>{const{topic:e,setTopic:c,topics:r,setTopics:s}=i.exports.useContext(h);return i.exports.useContext(x),i.exports.useEffect(()=>{D().then(n=>{s(n)})},[]),t("div",{className:"bg-blue-900 rounded-2xl h-full w-1/3 ml-14 px-4 py-4",children:r&&r.map(n=>t(K,{data:n,id:n.id,title:n.title,onClick:o},n.id))})},$=({heading:o,icon:e,onClick:c})=>u("div",{className:"px-4 py-2 ml-8 flex flex-row h-full items-center align-middle min-h-[100px]",children:[t("div",{className:"flex-[0_0_52px] mr-12",onClick:c,children:e}),t("h1",{className:"flex-[0 0 100%] text-7xl text-left text-zinc-600 drop-shadow-xl ml-7",children:o})]}),G=r=>{var s=r,{image:o,index:e}=s,c=y(s,["image","index"]);return t("div",{className:"my-3",children:t("img",{src:o,className:"rounded-lg shadow-xl object-cover object-center h-[250px] w-[400px] aspect-video"})})},J=o=>{const[e,c]=i.exports.useState();i.exports.useContext(h);const[r]=i.exports.useContext(x);i.exports.useEffect(()=>{H(r.topicSlug).then(l=>{var a;return(a=l.response)==null?void 0:a.results}).then(l=>{c(l)})},[]);const s=(l,a)=>t(G,{index:l,image:a.urls.thumb},l);let n=[],p=[];const g=l=>l%2;return e&&(console.log(e),e==null||e.map((l,a)=>{if(console.log(l.id,l.description,l.alt_description),p.push(s(a,l)),g(a)&&a!==0){const d=t("div",{className:"flex flex-col flex-wrap flex-grow-0 snap-start",children:p.map(v=>v)});return n.push(d),p=[],d}})),t("div",{className:"flex flex-row flex-nowrap flex-grow-0 flex-shrink-0 space-x-3",children:e&&n.map(l=>l)})},W=o=>{const[e,c]=i.exports.useContext(x),{topic:r,setTopic:s}=i.exports.useContext(h),n=i.exports.useRef(null),p=e.isOpen?"Choose Topic":r?r.title:"",g=e.isOpen?t(P,{className:"headerIcon"}):t(j,{className:"headerIcon"}),l=(N,C)=>{c&&c({isOpen:!1,isTopicSet:!0,topicSlug:{topicIdOrSlug:C}})},a=()=>{c&&c({isOpen:!0,isTopicSet:!1,topicSlug:{topicIdOrSlug:""}}),s({})},d=()=>{n.current&&n.current.scrollBy({top:0,left:-410,behavior:"smooth"})},v=()=>{n.current&&n.current.scrollBy({top:0,left:410,behavior:"smooth"})};return i.exports.useEffect(()=>{e.topicSlug&&e.topicSlug.topicIdOrSlug!==""&&Q(e.topicSlug).then(N=>{s(N)})},[e.topicSlug]),t("div",{className:"container max-w-screen-3xl min-h-screen flex bg-neutral-100 scroll-smooth",children:t("div",{className:"flex-1 w-7xl mx-auto p-10",children:u("div",{className:"grid grid-cols-[10%_75%_10%] gap-8",children:[t("div",{className:"col-start-1 col-span-3 row-start-1 row-span-1",children:t($,{heading:p,icon:g,onClick:a})}),e.isOpen&&t("div",{className:"col-start-1 col-span-3 row-start-2 row-span-2",children:t(V,{onSelectTopic:l})}),!e.isOpen&&u(_,{children:[t("div",{className:"col-start-1 row-start-2 row-span-2",children:t("div",{className:"flex align-middle h-full my-3 mx-9 rounded-full bg-orange-400 hover:bg-orange-500 text-neutral-200 shadow-lg hover:shadow-xl hover:cursor-pointer",onClick:d,children:t(R,{className:" drop-shadow-xl"})})}),t("div",{className:"col-start-2 row-start-2 row-span-2",children:t("div",{className:"flex flex-row flex-wrap overflow-x-hidden  snap-y snap-mandatory",ref:n,children:t(J,{})})}),t("div",{className:"col-start-3 row-start-2 row-span-2",children:t("div",{className:"flex align-middle h-full my-3 mx-9 rounded-full bg-orange-400 hover:bg-orange-500 text-neutral-200 shadow-lg hover:shadow-xl hover:cursor-pointer",onClick:v,children:t(k,{className:" drop-shadow-xl"})})})]})]})})})};function X(){return t(B,{children:t(z,{value:[],children:t(W,{})})})}A.render(t(L.StrictMode,{children:t(X,{})}),document.getElementById("root"));
